<div class="admin-container">
  <div class="admin-header">
    <h1>Admin Dashboard</h1>
    <p>System overview and content moderation</p>
  </div>
  
  <!-- System Statistics -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon users">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L14 10l-1.99-1.01A2.5 2.5 0 0 0 10 8H8.46c-.8 0-1.54.37-2.01.99L3.91 14.37 6.5 16H9v6h2v-6h2v6h4z"/>
        </svg>
      </div>
      <div class="stat-content">
        <h3>{{ stats?.totalUsers || 0 }}</h3>
        <p>Total Users</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon questions">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
        </svg>
      </div>
      <div class="stat-content">
        <h3>{{ stats?.totalQuestions || 0 }}</h3>
        <p>Total Questions</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon answers">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M21 6h-2l-1-2H6L5 6H3c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1z"/>
        </svg>
      </div>
      <div class="stat-content">
        <h3>{{ stats?.totalAnswers || 0 }}</h3>
        <p>Total Answers</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon activity">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
        </svg>
      </div>
      <div class="stat-content">
        <h3>{{ stats?.recentQuestions || 0 }}</h3>
        <p>Recent Activity</p>
      </div>
    </div>
  </div>
  
  <!-- Quick Actions -->
  <div class="actions-section">
    <h2>Quick Actions</h2>
    <div class="actions-grid">
      <button class="action-btn" (click)="loadFlaggedContent()">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/>
        </svg>
        Review Flagged Content
      </button>
      
      <button class="action-btn" (click)="loadAllUsers()">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
        Manage Users
      </button>
      
      <button class="action-btn" (click)="refreshStats()">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
        </svg>
        Refresh Stats
      </button>
    </div>
  </div>
  
  <!-- Flagged Content Section -->
  <div *ngIf="showFlaggedContent" class="content-section">
    <h2>Flagged Content</h2>
    <div *ngIf="flaggedContent" class="flagged-content">
      <div *ngFor="let question of flaggedContent.flaggedQuestions" class="flagged-item">
        <div class="flagged-header">
          <h4>{{ question.title }}</h4>
          <div class="flagged-actions">
            <button class="btn btn-secondary btn-sm" (click)="moderateContent('question', question.id, 'flag')">
              Keep Flag
            </button>
            <button class="btn btn-danger btn-sm" (click)="moderateContent('question', question.id, 'remove')">
              Remove Content
            </button>
          </div>
        </div>
        <p>{{ question.caption }}</p>
        <small>Flagged: {{ question.flags?.length || 0 }} times</small>
      </div>
    </div>
  </div>
  
  <!-- Users Section -->
  <div *ngIf="showUsers" class="content-section">
    <h2>System Users</h2>
    <div class="users-table">
      <div class="table-header">
        <span>Name</span>
        <span>Email</span>
        <span>Role</span>
        <span>Status</span>
        <span>Actions</span>
      </div>
      <div *ngFor="let user of users" class="table-row">
        <span>{{ user.fullName }}</span>
        <span>{{ user.email }}</span>
        <span class="role-badge" [ngClass]="'role-' + user.role">{{ user.role | titlecase }}</span>
        <span class="status-badge" [ngClass]="user.isActive ? 'status-active' : 'status-inactive'">
          {{ user.isActive ? 'Active' : 'Inactive' }}
        </span>
        <div class="user-actions">
          <button class="btn btn-outline btn-sm" (click)="viewUserActivity(user.id)">
            View Activity
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Loading States -->
  <div *ngIf="loading" class="loading">
    Loading...
  </div>
  
  <!-- Error Display -->
  <div *ngIf="error" class="error">
    {{ error }}
  </div>
</div>